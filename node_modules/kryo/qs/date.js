"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const invalid_type_1 = require("../errors/invalid-type");
const date_1 = require("../types/date");
function write(type, value) {
    return value.toISOString();
}
function read(type, input) {
    let result;
    if (typeof input !== "string") {
        throw invalid_type_1.createInvalidTypeError("string", input);
    }
    result = new Date(input);
    const error = type.testError(result);
    if (error !== undefined) {
        throw error;
    }
    return result;
}
function readTrusted(type, input) {
    return new Date(input);
}
exports.SERIALIZER = {
    typeName: date_1.name,
    write,
    read,
    readTrusted,
};
function register(serializer) {
    serializer.register(exports.SERIALIZER);
}
exports.register = register;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInFzL2RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBZ0U7QUFFaEUsd0NBQTJEO0FBRTNELGVBQWUsSUFBYyxFQUFFLEtBQVc7SUFDeEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUM3QixDQUFDO0FBRUQsY0FBYyxJQUFjLEVBQUUsS0FBYTtJQUN6QyxJQUFJLE1BQVksQ0FBQztJQUNqQixFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE1BQU0scUNBQXNCLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFDRCxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekIsTUFBTSxLQUFLLEdBQXNCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEQsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsTUFBTSxLQUFLLENBQUM7SUFDZCxDQUFDO0lBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQscUJBQXFCLElBQWMsRUFBRSxLQUFhO0lBQ2hELE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QixDQUFDO0FBRVksUUFBQSxVQUFVLEdBQXdCO0lBQzdDLFFBQVEsRUFBUixXQUFRO0lBQ1IsS0FBSztJQUNMLElBQUk7SUFDSixXQUFXO0NBQ1osQ0FBQztBQUVGLGtCQUF5QixVQUFzQjtJQUM3QyxVQUFVLENBQUMsUUFBUSxDQUFDLGtCQUFVLENBQUMsQ0FBQztBQUNsQyxDQUFDO0FBRkQsNEJBRUMiLCJmaWxlIjoicXMvZGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUludmFsaWRUeXBlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL2ludmFsaWQtdHlwZVwiO1xuaW1wb3J0IHsgU2VyaWFsaXplciwgVHlwZVNlcmlhbGl6ZXIgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IERhdGVUeXBlLCBuYW1lIGFzIHR5cGVOYW1lIH0gZnJvbSBcIi4uL3R5cGVzL2RhdGVcIjtcblxuZnVuY3Rpb24gd3JpdGUodHlwZTogRGF0ZVR5cGUsIHZhbHVlOiBEYXRlKTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIHJlYWQodHlwZTogRGF0ZVR5cGUsIGlucHV0OiBzdHJpbmcpOiBEYXRlIHtcbiAgbGV0IHJlc3VsdDogRGF0ZTtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IGNyZWF0ZUludmFsaWRUeXBlRXJyb3IoXCJzdHJpbmdcIiwgaW5wdXQpO1xuICB9XG4gIHJlc3VsdCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgY29uc3QgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkID0gdHlwZS50ZXN0RXJyb3IocmVzdWx0KTtcbiAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZWFkVHJ1c3RlZCh0eXBlOiBEYXRlVHlwZSwgaW5wdXQ6IHN0cmluZyk6IERhdGUge1xuICByZXR1cm4gbmV3IERhdGUoaW5wdXQpO1xufVxuXG5leHBvcnQgY29uc3QgU0VSSUFMSVpFUjogVHlwZVNlcmlhbGl6ZXI8YW55PiA9IHtcbiAgdHlwZU5hbWUsXG4gIHdyaXRlLFxuICByZWFkLFxuICByZWFkVHJ1c3RlZCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihzZXJpYWxpemVyOiBTZXJpYWxpemVyKTogdm9pZCB7XG4gIHNlcmlhbGl6ZXIucmVnaXN0ZXIoU0VSSUFMSVpFUik7XG59XG4iXSwic291cmNlUm9vdCI6Ii4uIn0=
