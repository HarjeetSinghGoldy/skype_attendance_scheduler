"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const invalid_type_1 = require("../errors/invalid-type");
const integer_1 = require("../types/integer");
function write(type, value) {
    return value.toString(10);
}
function read(type, input) {
    let val;
    if (typeof input !== "string") {
        throw invalid_type_1.createInvalidTypeError("string", input);
    }
    val = parseInt(input, 10);
    const err = type.testError(val);
    if (err !== undefined) {
        throw err;
    }
    return val;
}
function readTrusted(type, input) {
    return parseInt(input, 10);
}
exports.SERIALIZER = {
    typeName: integer_1.name,
    write,
    read,
    readTrusted,
};
function register(serializer) {
    serializer.register(exports.SERIALIZER);
}
exports.register = register;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInFzL2ludGVnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBZ0U7QUFFaEUsOENBQWlFO0FBRWpFLGVBQWUsSUFBaUIsRUFBRSxLQUFhO0lBQzdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzVCLENBQUM7QUFFRCxjQUFjLElBQWlCLEVBQUUsS0FBYTtJQUM1QyxJQUFJLEdBQVcsQ0FBQztJQUNoQixFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE1BQU0scUNBQXNCLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFDRCxHQUFHLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMxQixNQUFNLEdBQUcsR0FBc0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuRCxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLEdBQUcsQ0FBQztJQUNaLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVELHFCQUFxQixJQUFpQixFQUFFLEtBQWE7SUFDbkQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDN0IsQ0FBQztBQUVZLFFBQUEsVUFBVSxHQUF3QjtJQUM3QyxRQUFRLEVBQVIsY0FBUTtJQUNSLEtBQUs7SUFDTCxJQUFJO0lBQ0osV0FBVztDQUNaLENBQUM7QUFFRixrQkFBeUIsVUFBc0I7SUFDN0MsVUFBVSxDQUFDLFFBQVEsQ0FBQyxrQkFBVSxDQUFDLENBQUM7QUFDbEMsQ0FBQztBQUZELDRCQUVDIiwiZmlsZSI6InFzL2ludGVnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVJbnZhbGlkVHlwZUVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy9pbnZhbGlkLXR5cGVcIjtcbmltcG9ydCB7IFNlcmlhbGl6ZXIsIFR5cGVTZXJpYWxpemVyIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBJbnRlZ2VyVHlwZSwgbmFtZSBhcyB0eXBlTmFtZSB9IGZyb20gXCIuLi90eXBlcy9pbnRlZ2VyXCI7XG5cbmZ1bmN0aW9uIHdyaXRlKHR5cGU6IEludGVnZXJUeXBlLCB2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKDEwKTtcbn1cblxuZnVuY3Rpb24gcmVhZCh0eXBlOiBJbnRlZ2VyVHlwZSwgaW5wdXQ6IHN0cmluZyk6IG51bWJlciB7XG4gIGxldCB2YWw6IG51bWJlcjtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IGNyZWF0ZUludmFsaWRUeXBlRXJyb3IoXCJzdHJpbmdcIiwgaW5wdXQpO1xuICB9XG4gIHZhbCA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gIGNvbnN0IGVycjogRXJyb3IgfCB1bmRlZmluZWQgPSB0eXBlLnRlc3RFcnJvcih2YWwpO1xuICBpZiAoZXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiByZWFkVHJ1c3RlZCh0eXBlOiBJbnRlZ2VyVHlwZSwgaW5wdXQ6IHN0cmluZyk6IG51bWJlciB7XG4gIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xufVxuXG5leHBvcnQgY29uc3QgU0VSSUFMSVpFUjogVHlwZVNlcmlhbGl6ZXI8YW55PiA9IHtcbiAgdHlwZU5hbWUsXG4gIHdyaXRlLFxuICByZWFkLFxuICByZWFkVHJ1c3RlZCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihzZXJpYWxpemVyOiBTZXJpYWxpemVyKTogdm9pZCB7XG4gIHNlcmlhbGl6ZXIucmVnaXN0ZXIoU0VSSUFMSVpFUik7XG59XG4iXSwic291cmNlUm9vdCI6Ii4uIn0=
