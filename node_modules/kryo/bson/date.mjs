import { createInvalidTypeError } from "../errors/invalid-type";
import { name as typeName } from "../types/date";
function write(type, value) {
    return new Date(value.getTime());
}
function read(type, input) {
    let result;
    if (!(input instanceof Date)) {
        throw createInvalidTypeError("Date", input);
    }
    result = new Date(input.getTime());
    const error = type.testError(result);
    if (error !== undefined) {
        throw error;
    }
    return result;
}
function readTrusted(type, input) {
    return new Date(input.getTime());
}
export const SERIALIZER = {
    typeName,
    write,
    read,
    readTrusted,
};
export function register(serializer) {
    serializer.register(SERIALIZER);
}
